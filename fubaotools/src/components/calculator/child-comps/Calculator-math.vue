<template>
    <!-- æ•°å­¦è¡¥å……è®¡ç®—å™¨ä¸»ä½“ -->
    <div class="calculator">
        <!-- ç©ºä½™çš„ç»“æœæ˜¾ç¤ºæ  -->
        <div class="result" style="grid-area: result"></div>
        <!-- åŠŸèƒ½æŒ‰é”® -->
        <button style="grid-area: ac" @click="pushTheEquation('(')">(</button>
        <button style="grid-area: plus-minus" @click="pushTheEquation(')')">)</button>
        <button style="grid-area: percent" @click="pushTheEquation('^')">^</button>
        <button style="grid-area: add" @click="pushTheEquation('e')">e</button>
        <button style="grid-area: subtract" @click="pushTheEquation('â…Ÿ')">â…Ÿ</button>
        <button style="grid-area: divide" ref="enter" @click="deleteTheEquation">â¬…</button>
        <button style="grid-area: multiply" @click="pushTheEquation('e^')">eâ¿</button>
        <button style="grid-area: equal" @click="pushTheEquation('Ï€')">ğ¹</button>
        <!-- åŠŸèƒ½æŒ‰é”® -->
        <button style="grid-area: number-1" @click="pushTheEquation('Â°')">Â°</button>
        <button style="grid-area: number-2" @click="pushTheEquation('ã’(')">ã’</button>
        <button style="grid-area: number-3" @click="pushTheEquation('ã‘(')">ã‘</button>
        <button style="grid-area: number-4" @click="pushTheEquation('âˆš')">âˆšx</button>
        <button style="grid-area: number-5" @click="pushTheEquation('Â³âˆš')">Â³âˆšx</button>
        <button style="grid-area: number-6" @click="pushTheEquation('^âˆš')">â¿âˆšx</button>
        <button style="grid-area: number-7" @click="pushTheEquation('Â²')">xÂ²</button>
        <button style="grid-area: number-8" @click="pushTheEquation('!')">x!</button>
        <button style="grid-area: number-9" @click="pushTheEquation('2^')">2â¿</button>
        <button style="grid-area: number-10" @click="pushTheEquation('cos(')" class="iconfont cos">îœ·</button>

        <button style="grid-area: number-0" @click="pushTheEquation('sin(')" class="iconfont sin">îœ¹</button>
        <button style="grid-area: dot" @click="pushTheEquation('tan(')" class="iconfont tan">îœ¸</button>
    </div>
</template>
<script>
export default {
    setup (props) {
        props;

    },
    inject: ['delete', 'pushMath'],

    methods: {
        // add className active
        addActiveClass (element, permanent) {
            let primary = element.className;
            if (!primary.includes("active"))
                element.className = primary + " active";
            if (permanent === undefined)
                setTimeout(() => {
                    element.className = primary;
                }, 50);
        },
        deleteTheEquation () {
            this.delete();
        },
        pushTheEquation (operation) {
            this.pushMath(operation)
        }
    },
    mounted () {

    },

}

</script>


<style lang="scss" scoped>
@import "~@/assets/scss/extraFont.scss";

// ç®€æ˜“è®¡ç®—å™¨ä¸»ä½“
.calculator {
    --button-width: 60px;
    --button-height: 50px;
    //gridå¸ƒå±€
    display: grid;
    grid-template-areas:
        "result result result result"
        "ac plus-minus percent divide"
        "number-7 number-8 number-9 multiply"
        "number-4 number-5 number-6 subtract"
        "number-1 number-2 number-3 add"
        "number-0 number-10 dot equal";
    //gridå¸ƒå±€ï¼Œå…±4åˆ— ï¼Œ6è¡Œ
    grid-template-columns: repeat(4, var(--button-width));
    grid-template-rows: repeat(6, var(--button-height));

    // ç»ç’ƒé£æ ¼
    padding: 20px;
    padding-right: 0px;
    border-radius: 20px 0px 0px 20px;
    background: rgba($color: #eee, $alpha: 0.9);

    // æ‰€æœ‰æŒ‰é’® æ‹Ÿæ€æ•ˆæœ
    button {
        user-select: none;
        margin: 4px;
        padding: 0;
        border: 0;
        display: block;
        outline: none;
        border-radius: calc(var(--button-height) / 2);
        font-size: 24px;
        font-family: Helvetica;
        font-weight: normal;
        color: rgb(125, 125, 125);
        background: linear-gradient(
            135deg,
            rgba(230, 230, 230, 0.7) 0%,
            rgba(246, 246, 246, 0.4) 100%
        );
        box-shadow: -4px -4px 10px -8px rgba(255, 255, 255, 1),
            4px 4px 10px -8px rgba(0, 0, 0, 0.5);

        &.active,
        &:active {
            box-shadow: -4px -4px 15px -8px rgba(255, 255, 255, 1) inset,
                4px 4px 10px -8px rgba(0, 0, 0, 0.5) inset;
        }
    }
    & > button {
        background-color: rgba(167, 167, 167, 0.7);
    }
}
</style>